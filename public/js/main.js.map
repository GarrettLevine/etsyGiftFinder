{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["//************************************************************************\n//\t\t\t\t\t\t\t\tDOCUMENT READY\n//************************************************************************\n$(function() {\n\tetsyApp.init();\n});\t\n\n//************************************************************************\n//\t\t\t\t\t\t\tETSY OBJECT\t\t\n//************************************************************************\nvar etsyApp = {};\n\netsyApp.apiKey = 'ao3boag2j9soanucuqyhk53i';\netsyApp.url = 'https://openapi.etsy.com/v2';\n\netsyApp.userName = null;\netsyApp.userLocation = null;\n\n// We have 4 categories of Etsy Products: Tech, Apprel, Home, Leisure/Craft\netsyApp.categories = {\n\ttech: {\n\t\tkeywords: [\"Audio\",\"Cameras\",\"Gadgets\",\"Decals and Skins\",\"Cumputers & Peripherals\",\"Video Games\"]\n\t},\n\thome: {\n\t\tkeywords: [\"Painting\", \"Photography\", \"Sculpture\", \"candles\", \"Bathroom\", \"Bedding\", \"Furniture\", \"Home Appliances\", \"Home Decor\", \"Lighting\", \"Outdoor & Gardening\"]\n\t},\n\tfashion: {\n\t\tkeywords: [\"mittens\", \"scarves\", \"caps\", \"sunglasses\", \"eyewear\", \"backpacks\",\"messenger bags\", \"wallets\", \"hair care\", \"spa & relaxation\"]\n\t},\n\tleisure: {\n\t\tkeywords: [\"drawing\", \"prints\", \"Drawings\", \"spa\", \"skin care\", \"collectibles\", \"movies\", \"books\"]\n\t}\n}\n\netsyApp.getUserName = function() {\n\t\t// get the name of the recipient\n\t\tetsyApp.userName = $('#name').val();\n\n\t\t//place the username on the page where appropriate for the questions\n\t\t$('span.reciName').text(etsyApp.userName);\n\n\t\t//get the location of the hand-made products to search for\n\t\tetsyApp.userLocation = $('#location').val();\t\n\n};\n\n//results from the quiz pushed into  this object array\netsyApp.playerSearchObject = [];\n\n//etsy app array of items\netsyApp.results = [];\n\netsyApp.getEtsyArrays = function() {\n\t\t$.each(etsyApp.playerSearchObject, function(i, keyword) { \n\t\t\t$.ajax({\n\t\t\t\turl: 'http://proxy.hackeryou.com',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: {\n\t\t\t\t\treqUrl:  etsyApp.url + \"/featured_treasuries/listings\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: \"json\",\n\t\t\t\t\t\tapi_key: etsyApp.apiKey,\n\t\t\t\t\t\tlocation: etsyApp.userLocation,\n\t\t\t\t\t\tlimit: 50,\n\t\t\t\t\t\ttags: keyword\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).then(function(response) {\n\t\t\t\tvar items = response.results;\n\t\t\t\tetsyApp.results.push(items);\n\t\t\t});\n\t\t});\n}\n\n\netsyApp.createEtsyItems = function() {\n\tetsyApp.getEtsyArrays();\n\tvar randomNumberArray = [Math.floor(Math.random() * etsyApp.playerSearchObject.length),\n\t\t\t\t\t\t\tMath.floor(Math.random() * etsyApp.playerSearchObject.length),\n\t\t\t\t\t\t\tMath.floor(Math.random() * etsyApp.playerSearchObject.length)];\n\t//for each array in etsyApp.results\n\t$.each(randomNumberArray, function(i, number) {\n\t\t//create a random number\n\t\tvar randomNumber = Math.floor(Math.random() * etsyApp.results[number].length);\n\t\t//choose an item using that random number\n\t\tvar chosenItem = etsyApp.results[number][randomNumber];\n\t\tconsole.log(chosenItem);\n\t\t//get the image for the chosen item\n\t\tvar chosenItemImage = $.ajax({\n\t\t\turl:  'http://proxy.hackeryou.com',\n\t\t\tmethod: \"GET\",\n\t\t\tdataType: \"json\",\n\t\t\tdata: {\n\t\t\t\treqUrl: etsyApp.url + \"/listings/\" + chosenItem.listing_id + \"/images\",\n\t\t\t\tparams: {\n\t\t\t\t\tformat: \"json\",\n\t\t\t\t\tapi_key: etsyApp.apiKey,\n\t\t\t\t}\n\t\t\t}\n\t\t}).then(function(response){ \n\t\t\tetsyApp.displayItems();\n\t\t}); //end of ajax call\n\t\t//delete the item from the array\n\t\tetsyApp.results[number].splice(randomNumber, 1);\n\t}); //end of each\n\n}\n\netsyApp.displayItems = function() {\n\tvar resultCard = {\n\t\ttitle: chosenItem.title,\n\t\timage: response.results[0].url_fullxfull,\n\t\tprice: chosenItem.price,\n\t\tshopUrl: chosenItem.url\n\t};\n\netsyApp.getKeywords = function() {\n\tvar selectedCategory = $(this).val();\n\tvar selectedKeywords = etsyApp.categories[selectedCategory].keywords;\n\tvar randomKeyword = selectedKeywords[Math.floor(Math.random()* selectedKeywords.length)];\n\tetsyApp.playerSearchObject.push(randomKeyword);\n}\n\n\t//run the template\n\t// ***** Handle Bar Template ***** \n\tvar resultCardHtml = $('#itemTemplate').html();\n\tvar template = Handlebars.compile(resultCardHtml);\n\n\t$('.resultContainer').append(template(resultCard) );\n}\n\n//************************************************************************\n//\t\t\t\t\t\t\t\t\tON EVENT HANDLERS\n//************************************************************************\n//on form submit\netsyApp.onSubmitAnswers= function() {\n\t$('.form-submit-answers').on('submit', function(e) {\n\t\t//grab three items from each array random\n\t\te.preventDefault();\n\t\tetsyApp.createEtsyItems();\n\t}); //end of on submit\n}\netsyApp.onRadioClick = function() {\n\t$('input[type=radio]').on('click', function() {\n\t\tetsyApp.getKeywords();\n\t});\n}\n\netsyApp.onFormStart = function() {\n\t$('.form-start').on('submit', function(e) {\n\t\te.preventDefault();\n\t\tetsyApp.getUserName();\n\t}); //end of submit\n}\n\n//************************************************************************\n//\t\t\t\t\t\t\t\t\tETSY APP INIT FUNCTION\n//************************************************************************\netsyApp.init = function() {\n\tetsyApp.onFormStart();\n\tetsyApp.onRadioClick();\n\tetsyApp.onSubmitAnswers();\n}\n"],"sourceRoot":"/source/"}