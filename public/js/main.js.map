{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["//************************************************************************\n//\t\t\t\t\t\t\t\tDOCUMENT READY\n//************************************************************************\n$(function() {\n\tetsyApp.init();\n});\t\n\n//************************************************************************\n//\t\t\t\t\t\t\tETSY OBJECT\t\t\n//************************************************************************\nvar etsyApp = {};\n\netsyApp.apiKey = 'ao3boag2j9soanucuqyhk53i';\netsyApp.url = 'https://openapi.etsy.com/v2';\n\netsyApp.userName = null;\netsyApp.userLocation = null;\n\n// We have 4 categories of Etsy Products: Tech, Apprel, Home, Leisure/Craft\netsyApp.categories = {\n\ttech: {\n\t\tkeywords: [\"Audio\",\"Cameras\",\"Gadgets\",\"Decals and Skins\",\"Cumputers & Peripherals\",\"Video Games\"]\n\t},\n\thome: {\n\t\tkeywords: [\"Painting\", \"Photography\", \"Sculpture\", \"candles\", \"Bathroom\", \"Bedding\", \"Furniture\", \"Home Appliances\", \"Home Decor\", \"Lighting\", \"Outdoor & Gardening\"]\n\t},\n\tfashion: {\n\t\tkeywords: [\"mittens\", \"scarves\", \"caps\", \"sunglasses\", \"eyewear\", \"backpacks\",\"messenger bags\", \"wallets\", \"hair care\", \"spa & relaxation\"]\n\t},\n\tleisure: {\n\t\tkeywords: [\"drawing\", \"prints\", \"Drawings\", \"spa\", \"skin care\", \"collectibles\", \"movies\", \"books\"]\n\t}\n}\n\n\n\netsyApp.getUserName = function() {\n\t$('.form-start').on('submit', function(e){\n\t\te.preventDefault();\n\t\tconsole.log('form is firing');\n\t\t// get the name of the recipient\n\t\tetsyApp.userName = $('#name').val();\n\t\tconsole.log(etsyApp.userName);\n\n\t\t$('span.reciName').text(etsyApp.userName);\n\n\t\tetsyApp.userLocation = $('#location').val();\n\t\tconsole.log(etsyApp.userLocation);\n\t})\n};\n\n\n\netsyApp.location = \"Toronto\";\n\n//results from the quiz pushed into  this object array\netsyApp.playerSearchObject = [];\n\netsyApp.results = [];\n\netsyApp.getEtsyItems = function() {\n\t\t$.each(etsyApp.playerSearchObject, function(i, keyword) { \n\t\t\t$.ajax({\n\t\t\t\turl: 'http://proxy.hackeryou.com',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: {\n\t\t\t\t\treqUrl:  etsyApp.url + \"/featured_treasuries/listings\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: \"json\",\n\t\t\t\t\t\tapi_key: etsyApp.apiKey,\n\t\t\t\t\t\tlocation: etsyApp.userLocation,\n\t\t\t\t\t\tlimit: 50,\n\t\t\t\t\t\ttags: keyword\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).then(function(response) {\n\t\t\t\tvar items = response.results;\n\t\t\t\tconsole.log(response);\n\t\t\t\tetsyApp.results.push(items);\n\t\t\t});\n\t\t});\n}\n\n//on form submit\netsyApp.displayItems = function() {\n\n\t$('.form-submit-answers').on('submit', function(e) {\n\t\t//grab three items from each array random\n\t\te.preventDefault();\n\t\tetsyApp.getEtsyItems();\n\t\tvar randomNumberArray = [Math.floor(Math.random() * etsyApp.playerSearchObject.length),\n\t\t\t\t\t\t\t\tMath.floor(Math.random() * etsyApp.playerSearchObject.length),\n\t\t\t\t\t\t\t\tMath.floor(Math.random() * etsyApp.playerSearchObject.length)];\n\t\tconsole.log(randomNumberArray);\n\t\t//for each array in etsyApp.results\n\t\t$.each(randomNumberArray, function(i, number) {\n\t\t\t//create a random number\n\t\t\tvar randomNumber = Math.floor(Math.random() * etsyApp.results[number].length);\n\t\t\t//choose an item using that random number\n\t\t\tvar chosenItem = etsyApp.results[number][randomNumber];\n\t\t\tconsole.log(chosenItem);\n\t\t\t//get the image for the chosen item\n\t\t\tvar chosenItemImage = $.ajax({\n\t\t\t\turl:  'http://proxy.hackeryou.com',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: {\n\t\t\t\t\treqUrl: etsyApp.url + \"/listings/\" + chosenItem.listing_id + \"/images\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: \"json\",\n\t\t\t\t\t\tapi_key: etsyApp.apiKey,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).then(function(response){ \n\t\t\t\t// console.log(response.results);\n\t\t\t\tvar title = chosenItem.title;\n\t\t\t\tvar image = response.results[0].url_fullxfull;\n\t\t\t\tvar price = chosenItem.price;\n\t\t\t\tvar shopUrl = chosenItem.url;\n\n\t\t\t\tvar resultCard = {\n\t\t\t\t\ttitle: title,\n\t\t\t\t\timage: image,\n\t\t\t\t\tprice: price,\n\t\t\t\t\tshopUrl: shopUrl\n\t\t\t\t};\n\n\t\t\t\t//run the template\n\t\t\t\t// ***** Handle Bar Template ***** \n\t\t\t\tvar resultCardHtml = $('#itemTemplate').html();\n\t\t\t\tvar template = Handlebars.compile(resultCardHtml);\n\n\t\t\t\t$('.resultContainer').append(template(resultCard));\n\n\n\t\t\t}); //end of ajax call\n\t\t\t//delete the item from the array\n\t\t\tetsyApp.results[number].splice(randomNumber, 1);\n\t\t}); //end of each\n\n\t}); //end of on submit\n\t\n}\n\n\n// when we click on radio option, grab the value\n// use that value to get a random keyword from the etsyApp cateogry object\n// push the keyword into player search object\n\n$('input[type=radio]').on('click', function() {\n\tvar selectedCategory = $(this).val();\n\n\tvar selectedKeywords = etsyApp.categories[selectedCategory].keywords;\n\n\tvar randomKeyword = selectedKeywords[Math.floor(Math.random()* selectedKeywords.length)];\n\n\tetsyApp.playerSearchObject.push(randomKeyword);\n\t\n});\n\netsyApp.init = function() {\n\tetsyApp.getUserName();\n\tetsyApp.displayItems();\n\n}\n\n\n\n\n// On click, apply the class selected, grab the data of the class selected\n\n// Use selected data to roll a result on the corresponding array\n\n// push results into an selected choice array\n// if there is a repeated keyword, filter out the duplicate \n\n// On submit location form, grab location data \n\n// request ajax results from the selected choice array\n// pass in location data \n\n// display results\n\n"],"sourceRoot":"/source/"}